// 백준 14503번 로봇 청소기 : https://www.acmicpc.net/problem/14503

#include<stdio.h>
#include<algorithm>
using namespace std;

int room[51][51], n, m, r, c, d, dl[4][2] = {{-1, 0}, {0, 1}, {1, 0}, {0, -1}}, cnt; // 북 동 남 서

void DFS(int x, int y, int d) {
	if (room[x][y] == 1) {
		printf("%d", cnt);
		exit(0);
	}
	room[x][y] = 2;
	for (int i = (d + 3) % 4, j = 0; j < 4; i = (i + 3) % 4, j++) {
		int a = x + dl[i][0];
		int b = y + dl[i][1];
		if (a > -1 && a < n && b > -1 && b < m && room[a][b] == 0) {  // 바로 90도 반시계 회전, 전진 가능한지 탐색
			cnt++;
			DFS(a, b, i);
		}
	}
	DFS(x - dl[d][0], y - dl[d][1], d);  // 360도 회전 후에도 진행을 못했으면 방향 그대로 후진
}

int main(){
	scanf("%d%d%d%d%d", &n, &m, &r, &c, &d);
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			scanf("%d", &room[i][j]);
		}
	}
	cnt++;
	DFS(r, c, d);
}
